<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<h:head>
	<title>Login</title>
</h:head>
<h:body>
	<h:form>
		<h:panelGrid columns="2" cellpadding="5">
		<h:outputLabel for="username" value="Username:" />
		<p:inputText value="#{loginBean.username}" id="username" required="true" label="username" />
		<h:outputLabel for="password" value="Password:" />
		<h:inputSecret value="#{loginBean.password}" id="password" required="true" label="password" />
			<!-- <f:facet name="footer"> -->
		<h:commandButton id="loginButton" value="Login" update=":growl" actionListener="#{loginBean.login}" oncomplete="handleLoginRequest(xhr, status, args)"/>
			<!--  " </f:facet> -->
		</h:panelGrid>
		
		<script type="text/javascript">
			function handleLoginRequest(xhr, status, args) {
				if(args.validationFailed || !args.loggedIn) {
					jQuery('#dialog').effect("shake", { times:3 }, 100);
				} else {
					alert("Logou");
				}
			}
		</script>
	</h:form>
</h:body>
</html>